<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_71) on Wed Aug 05 10:22:36 EDT 2015 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>ForkJoinPool.ManagedBlocker (atmosphere-project 2.3.4 API)</title>
<meta name="date" content="2015-08-05">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ForkJoinPool.ManagedBlocker (atmosphere-project 2.3.4 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ForkJoinPool.ManagedBlocker.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/atmosphere/util/chmv8/ForkJoinPool.ForkJoinWorkerThreadFactory.html" title="interface in org.atmosphere.util.chmv8"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/atmosphere/util/chmv8/ForkJoinTask.html" title="class in org.atmosphere.util.chmv8"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/atmosphere/util/chmv8/ForkJoinPool.ManagedBlocker.html" target="_top">Frames</a></li>
<li><a href="ForkJoinPool.ManagedBlocker.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.atmosphere.util.chmv8</div>
<h2 title="Interface ForkJoinPool.ManagedBlocker" class="title">Interface ForkJoinPool.ManagedBlocker</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Enclosing class:</dt>
<dd><a href="../../../../org/atmosphere/util/chmv8/ForkJoinPool.html" title="class in org.atmosphere.util.chmv8">ForkJoinPool</a></dd>
</dl>
<hr>
<br>
<pre>public static interface <span class="strong">ForkJoinPool.ManagedBlocker</span></pre>
<div class="block">Interface for extending managed parallelism for tasks running
 in <a href="../../../../org/atmosphere/util/chmv8/ForkJoinPool.html" title="class in org.atmosphere.util.chmv8"><code>ForkJoinPool</code></a>s.

 <p>A <code>ManagedBlocker</code> provides two methods.  Method
 <code>isReleasable</code> must return <code>true</code> if blocking is
 not necessary. Method <code>block</code> blocks the current thread
 if necessary (perhaps internally invoking <code>isReleasable</code>
 before actually blocking). These actions are performed by any
 thread invoking <a href="../../../../org/atmosphere/util/chmv8/ForkJoinPool.html#managedBlock(org.atmosphere.util.chmv8.ForkJoinPool.ManagedBlocker)"><code>ForkJoinPool.managedBlock(ManagedBlocker)</code></a>.
 The unusual methods in this API accommodate synchronizers that
 may, but don't usually, block for long periods. Similarly, they
 allow more efficient internal handling of cases in which
 additional workers may be, but usually are not, needed to
 ensure sufficient parallelism.  Toward this end,
 implementations of method <code>isReleasable</code> must be amenable
 to repeated invocation.

 <p>For example, here is a ManagedBlocker based on a
 ReentrantLock:
  <pre> <code>class ManagedLocker implements ManagedBlocker {
   final ReentrantLock lock;
   boolean hasLock = false;
   ManagedLocker(ReentrantLock lock) { this.lock = lock; }
   public boolean block() {
     if (!hasLock)
       lock.lock();
     return true;
   }
   public boolean isReleasable() {
     return hasLock || (hasLock = lock.tryLock());
   }
 }</code></pre>

 <p>Here is a class that possibly blocks waiting for an
 item on a given queue:
  <pre> <code>class QueueTaker&lt;E&gt; implements ManagedBlocker {
   final BlockingQueue&lt;E&gt; queue;
   volatile E item = null;
   QueueTaker(BlockingQueue&lt;E&gt; q) { this.queue = q; }
   public boolean block() throws InterruptedException {
     if (item == null)
       item = queue.take();
     return true;
   }
   public boolean isReleasable() {
     return item != null || (item = queue.poll()) != null;
   }
   public E getItem() { // call after pool.managedBlock completes
     return item;
   }
 }</code></pre></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/atmosphere/util/chmv8/ForkJoinPool.ManagedBlocker.html#block()">block</a></strong>()</code>
<div class="block">Possibly blocks the current thread, for example waiting for
 a lock or condition.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/atmosphere/util/chmv8/ForkJoinPool.ManagedBlocker.html#isReleasable()">isReleasable</a></strong>()</code>
<div class="block">Returns <code>true</code> if blocking is unnecessary.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="block()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>block</h4>
<pre>boolean&nbsp;block()
              throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Possibly blocks the current thread, for example waiting for
 a lock or condition.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if no additional blocking is necessary
 (i.e., if isReleasable would return true)</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if interrupted while waiting
 (the method is not required to do so, but is allowed to)</dd></dl>
</li>
</ul>
<a name="isReleasable()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isReleasable</h4>
<pre>boolean&nbsp;isReleasable()</pre>
<div class="block">Returns <code>true</code> if blocking is unnecessary.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if blocking is unnecessary</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ForkJoinPool.ManagedBlocker.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/atmosphere/util/chmv8/ForkJoinPool.ForkJoinWorkerThreadFactory.html" title="interface in org.atmosphere.util.chmv8"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/atmosphere/util/chmv8/ForkJoinTask.html" title="class in org.atmosphere.util.chmv8"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/atmosphere/util/chmv8/ForkJoinPool.ManagedBlocker.html" target="_top">Frames</a></li>
<li><a href="ForkJoinPool.ManagedBlocker.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2015. All rights reserved.</small></p>
</body>
</html>
