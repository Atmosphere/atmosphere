---
const frameworks = [
  {
    name: 'React',
    file: 'Chat.tsx',
    lang: 'React',
    icon: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <circle cx="12" cy="12" r="2" fill="#61DAFB"/>
      <ellipse cx="12" cy="12" rx="10" ry="4" stroke="#61DAFB" stroke-width="1" fill="none"/>
      <ellipse cx="12" cy="12" rx="10" ry="4" stroke="#61DAFB" stroke-width="1" fill="none" transform="rotate(60 12 12)"/>
      <ellipse cx="12" cy="12" rx="10" ry="4" stroke="#61DAFB" stroke-width="1" fill="none" transform="rotate(120 12 12)"/>
    </svg>`,
    code: `<span class="hl-keyword">import</span> &#123; useAtmosphere &#125; <span class="hl-keyword">from</span> <span class="hl-string">'atmosphere.js/react'</span>;

<span class="hl-keyword">export default function</span> <span class="hl-function">Chat</span>() &#123;
  <span class="hl-keyword">const</span> &#123; data, push, status &#125; = <span class="hl-function">useAtmosphere</span>(&#123;
    <span class="hl-property">url</span>: <span class="hl-string">'/chat'</span>,
    <span class="hl-property">transport</span>: <span class="hl-string">'websocket'</span>,
  &#125;);

  <span class="hl-keyword">return</span> (
    &lt;<span class="hl-type">div</span>&gt;
      &lt;<span class="hl-type">p</span>&gt;Status: &#123;status&#125;&lt;/<span class="hl-type">p</span>&gt;
      &lt;<span class="hl-type">ul</span>&gt;&#123;data.map(<span class="hl-property">m</span> =&gt; &lt;<span class="hl-type">li</span>&gt;&#123;m&#125;&lt;/<span class="hl-type">li</span>&gt;)&#125;&lt;/<span class="hl-type">ul</span>&gt;
      &lt;<span class="hl-type">button</span> <span class="hl-property">onClick</span>=&#123;() =&gt; push(<span class="hl-string">'Hello!'</span>)&#125;&gt;Send&lt;/<span class="hl-type">button</span>&gt;
    &lt;/<span class="hl-type">div</span>&gt;
  );
&#125;`,
  },
  {
    name: 'Vue',
    file: 'Chat.vue',
    lang: 'Vue',
    icon: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <path d="M2 3h4l6 10.5L18 3h4L12 21 2 3z" fill="#42B883"/>
      <path d="M6.5 3H12l0 0 5.5 0L12 13.5 6.5 3z" fill="#35495E"/>
    </svg>`,
    code: `<span class="hl-comment">&lt;script setup&gt;</span>
<span class="hl-keyword">import</span> &#123; useAtmosphere &#125; <span class="hl-keyword">from</span> <span class="hl-string">'atmosphere.js/vue'</span>;

<span class="hl-keyword">const</span> &#123; data, push, status &#125; = <span class="hl-function">useAtmosphere</span>(&#123;
  <span class="hl-property">url</span>: <span class="hl-string">'/chat'</span>,
  <span class="hl-property">transport</span>: <span class="hl-string">'websocket'</span>,
&#125;);
<span class="hl-comment">&lt;/script&gt;</span>

<span class="hl-comment">&lt;template&gt;</span>
  &lt;<span class="hl-type">p</span>&gt;Status: &#123;&#123; status &#125;&#125;&lt;/<span class="hl-type">p</span>&gt;
  &lt;<span class="hl-type">ul</span>&gt;&lt;<span class="hl-type">li</span> <span class="hl-property">v-for</span>=<span class="hl-string">"m in data"</span>&gt;&#123;&#123; m &#125;&#125;&lt;/<span class="hl-type">li</span>&gt;&lt;/<span class="hl-type">ul</span>&gt;
  &lt;<span class="hl-type">button</span> <span class="hl-property">@click</span>=<span class="hl-string">"push('Hello!')"</span>&gt;Send&lt;/<span class="hl-type">button</span>&gt;
<span class="hl-comment">&lt;/template&gt;</span>`,
  },
  {
    name: 'Svelte',
    file: 'Chat.svelte',
    lang: 'Svelte',
    icon: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <path d="M20.4 5.4c-2-3.1-6.1-4-9.1-2L6 7c-1.4.9-2.3 2.3-2.6 3.9-.2 1.2 0 2.4.5 3.4-.4.6-.6 1.2-.7 1.9-.3 1.6.1 3.3 1.2 4.6 2 3.1 6.1 4 9.1 2l5.3-3.5c1.4-.9 2.3-2.3 2.6-3.9.2-1.2 0-2.4-.5-3.4.4-.6.6-1.2.7-1.9.3-1.7-.2-3.4-1.2-4.6z" fill="#FF3E00"/>
      <path d="M9.7 18.6c-1.5.4-3.1-.2-3.9-1.5-.5-.8-.7-1.7-.4-2.6l.2-.5.1-.3.3.2c.6.5 1.3.8 2 1l.2.1v.2c0 .3.1.6.3.8.4.5 1.1.7 1.7.5l.4-.2 5.3-3.5c.3-.2.5-.5.5-.9.1-.4 0-.8-.2-1.1-.4-.5-1.1-.7-1.7-.5l-2 1.3c-1.5.9-3.5.6-4.8-.7-.7-.8-1-1.8-.8-2.8.2-.9.7-1.7 1.4-2.2L13 2.4c.4-.3.9-.5 1.4-.6 1.5-.4 3.1.2 3.9 1.5.5.8.7 1.7.4 2.6l-.2.5-.1.3-.3-.2c-.6-.5-1.3-.8-2-1l-.2-.1v-.2c0-.3-.1-.6-.3-.8-.4-.5-1.1-.7-1.7-.5l-.4.2-5.3 3.5c-.3.2-.5.5-.5.9-.1.4 0 .8.2 1.1.4.5 1.1.7 1.7.5l2-1.3c1.5-.9 3.5-.6 4.8.7.7.8 1 1.8.8 2.8-.2.9-.7 1.7-1.4 2.2l-5.3 3.5c-.4.3-.9.5-1.4.6z" fill="white"/>
    </svg>`,
    code: `<span class="hl-comment">&lt;script&gt;</span>
<span class="hl-keyword">import</span> &#123; useAtmosphere &#125; <span class="hl-keyword">from</span> <span class="hl-string">'atmosphere.js/svelte'</span>;

<span class="hl-keyword">const</span> &#123; data, push, status &#125; = <span class="hl-function">useAtmosphere</span>(&#123;
  <span class="hl-property">url</span>: <span class="hl-string">'/chat'</span>,
  <span class="hl-property">transport</span>: <span class="hl-string">'websocket'</span>,
&#125;);
<span class="hl-comment">&lt;/script&gt;</span>

&lt;<span class="hl-type">p</span>&gt;Status: &#123;$status&#125;&lt;/<span class="hl-type">p</span>&gt;
&#123;#each $data as m&#125;
  &lt;<span class="hl-type">li</span>&gt;&#123;m&#125;&lt;/<span class="hl-type">li</span>&gt;
&#123;/each&#125;
&lt;<span class="hl-type">button</span> <span class="hl-property">on:click</span>=&#123;() =&gt; push(<span class="hl-string">'Hello!'</span>)&#125;&gt;Send&lt;/<span class="hl-type">button</span>&gt;`,
  },
];
---

<section class="client-hooks" id="hooks">
  <div class="hooks-container">
    <div class="section-header">
      <span class="section-label">Client SDKs</span>
      <h2 class="section-title">First-class framework hooks</h2>
      <p class="section-description">
        Reactive bindings for React, Vue, and Svelte. One <code>useAtmosphere</code> call
        gives you connection state, incoming data, and a push functionâ€”no boilerplate.
      </p>
    </div>

    <div class="hooks-grid">
      {frameworks.map((fw, index) => (
        <article class="hook-card" style={`--delay: ${index * 0.1}s`}>
          <div class="hook-header">
            <div class="hook-icon" set:html={fw.icon} />
            <h3 class="hook-name">{fw.name}</h3>
          </div>
          <div class="hook-code-panel">
            <div class="code-header">
              <div class="code-dots">
                <span></span>
                <span></span>
                <span></span>
              </div>
              <span class="code-filename">{fw.file}</span>
              <span class="code-lang">{fw.lang}</span>
            </div>
            <pre class="code-block"><code set:html={fw.code} /></pre>
          </div>
        </article>
      ))}
    </div>

    <div class="hooks-cta">
      <a href="https://github.com/Atmosphere/atmosphere/wiki/Framework-Hooks-React-Vue-Svelte" class="btn btn-outline" target="_blank" rel="noopener noreferrer">
        Hooks Documentation
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
          <path d="M3 8h10M9 4l4 4-4 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </a>
      <a href="https://www.npmjs.com/package/atmosphere.js" class="btn btn-ghost" target="_blank" rel="noopener noreferrer">
        npm: atmosphere.js
        <svg width="14" height="14" viewBox="0 0 12 12" fill="none">
          <path d="M3.5 8.5L8.5 3.5M8.5 3.5H4.5M8.5 3.5V7.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </a>
    </div>
  </div>
</section>

<style>
  .client-hooks {
    padding: var(--space-4xl) var(--space-xl);
    background: var(--color-bg-secondary);
    position: relative;
  }

  .client-hooks::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--color-border-accent), transparent);
  }

  .hooks-container {
    max-width: 1200px;
    margin: 0 auto;
  }

  .section-header {
    text-align: center;
    max-width: 600px;
    margin: 0 auto var(--space-3xl);
  }

  .section-label {
    display: inline-block;
    font-family: var(--font-mono);
    font-size: 0.75rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--color-accent);
    margin-bottom: var(--space-md);
  }

  .section-title {
    font-family: var(--font-display);
    font-size: clamp(2rem, 5vw, 2.75rem);
    font-weight: 400;
    line-height: 1.2;
    letter-spacing: -0.02em;
    margin-bottom: var(--space-md);
  }

  .section-description {
    font-size: 1.0625rem;
    color: var(--color-text-secondary);
    line-height: 1.6;
  }

  .section-description code {
    font-family: var(--font-mono);
    font-size: 0.9em;
    color: var(--color-accent);
    background: var(--color-accent-glow);
    padding: 0.1em 0.4em;
    border-radius: 4px;
  }

  .hooks-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-lg);
    margin-bottom: var(--space-2xl);
  }

  .hook-card {
    background: var(--color-bg-tertiary);
    border: 1px solid var(--color-border);
    border-radius: 12px;
    overflow: hidden;
    transition: all 0.3s var(--ease-out-quad);
    animation: fadeInUp 0.6s var(--ease-out-expo) var(--delay) both;
  }

  .hook-card:hover {
    border-color: var(--color-border-accent);
    transform: translateY(-4px);
    box-shadow: 0 20px 40px -20px rgba(0, 0, 0, 0.5);
  }

  .hook-header {
    display: flex;
    align-items: center;
    gap: var(--space-md);
    padding: var(--space-lg) var(--space-lg) var(--space-sm);
  }

  .hook-icon {
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }

  .hook-name {
    font-family: var(--font-body);
    font-size: 1.125rem;
    font-weight: 600;
  }

  .hook-code-panel {
    margin: 0 var(--space-md) var(--space-md);
    border: 1px solid var(--color-border);
    border-radius: 8px;
    overflow: hidden;
  }

  .code-header {
    display: flex;
    align-items: center;
    gap: var(--space-md);
    padding: var(--space-sm) var(--space-md);
    background: var(--color-bg-elevated);
    border-bottom: 1px solid var(--color-border);
  }

  .code-dots {
    display: flex;
    gap: 4px;
  }

  .code-dots span {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--color-border-accent);
  }

  .code-dots span:first-child { background: #ff5f57; }
  .code-dots span:nth-child(2) { background: #febc2e; }
  .code-dots span:nth-child(3) { background: #28c840; }

  .code-filename {
    font-family: var(--font-mono);
    font-size: 0.75rem;
    color: var(--color-text-secondary);
  }

  .code-lang {
    margin-left: auto;
    font-family: var(--font-mono);
    font-size: 0.625rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-text-muted);
    padding: 0.1em 0.4em;
    background: var(--color-bg-secondary);
    border-radius: 3px;
  }

  .code-block {
    padding: var(--space-md);
    margin: 0;
    font-family: var(--font-mono);
    font-size: 0.75rem;
    line-height: 1.6;
    overflow-x: auto;
    background: transparent;
    white-space: pre;
  }

  .code-block code {
    color: var(--color-text-secondary);
    white-space: pre;
    display: block;
  }

  .code-block .hl-keyword { color: #ff79c6; }
  .code-block .hl-function { color: #50fa7b; }
  .code-block .hl-string { color: #f1fa8c; }
  .code-block .hl-comment { color: var(--color-text-muted); font-style: italic; }
  .code-block .hl-type { color: #8be9fd; }
  .code-block .hl-property { color: var(--color-accent); }

  .hooks-cta {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-md);
  }

  .btn {
    display: inline-flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-md) var(--space-xl);
    font-family: var(--font-body);
    font-size: 0.9375rem;
    font-weight: 500;
    border-radius: 8px;
    transition: all 0.2s var(--ease-out-quad);
    cursor: pointer;
    border: none;
  }

  .btn-outline {
    background: transparent;
    color: var(--color-accent);
    border: 1px solid var(--color-accent);
  }

  .btn-outline:hover {
    background: var(--color-accent);
    color: var(--color-bg-primary);
  }

  .btn-ghost {
    background: transparent;
    color: var(--color-text-secondary);
  }

  .btn-ghost:hover {
    color: var(--color-text-primary);
  }

  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @media (max-width: 1024px) {
    .hooks-grid {
      grid-template-columns: 1fr;
      max-width: 500px;
      margin: 0 auto var(--space-2xl);
    }
  }

  @media (max-width: 640px) {
    .client-hooks {
      padding: var(--space-3xl) var(--space-md);
    }

    .hooks-cta {
      flex-direction: column;
    }

    .btn {
      width: 100%;
      justify-content: center;
    }
  }
</style>
